controllers:
  excalidraw:
    replicas: 1
    strategy: RollingUpdate
    containers:
      app:
        image:
          repository: docker.io/excalidraw/excalidraw
          tag: latest@sha256:712cd4e7383509ffa50998e743d1a0d02b5aa8eeae714e4d073b7cfb7884f15c
          pullPolicy: IfNotPresent
        # probes:
        #   liveness:
        #     enabled: true
        #   readiness:
        #     enabled: true
        # resources:
        #   requests:
        #     cpu: 5m
        #     memory: 10Mi
        # limits:
        #   memory: 512Mi
        env:
          PORT: &port 8080
service:
  app:
    controller: excalidraw
    ports:
      http:
        port: *port
ingress:
  app:
    className: external
    annotations:
      external-dns.alpha.kubernetes.io/target: external.pitower.link
    hosts:
      - host: &host draw.pitower.link
        paths:
          - path: /
            service:
              identifier: app
              port: http
    tls:
      - hosts:
          - *host
persistence:
  data:
    enabled: true
    type: emptyDir
