---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: argocd
resources:
  # - github.com/fluxcd/flux2/manifests/install?ref=v2.5.1
  # - github.com/argoproj/argo-cd/manifests/base?ref=v3.0.3
  - namespace.yaml
  - secrets.sops.yaml
# patches:
#   - patch: |-
#       $patch: delete
#       apiVersion: networking.k8s.io/v1
#       kind: NetworkPolicy
#       metadata:
#         name: not-used
#     target:
#       group: networking.k8s.io
#       version: v1
#       kind: NetworkPolicy

helmCharts:
  - name: argo-cd
    version: 8.0.9
    repo: https://argoproj.github.io/argo-helm
    releaseName: argocd
    namespace: argocd
    valuesFile: argocd-values.yaml
